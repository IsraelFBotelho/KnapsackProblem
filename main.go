package main

import (
	"fmt"
	"mochila/bruteforce"
	"mochila/limited"
	"mochila/utils"
	"os"
	"strconv"
)

/*
	Padrão de Run do executável:

	./main {1, 2, 3} {brute, limited, both} {limite inferior} {limite superior}

	{1, 2, 3} -> Determina se é 10, 100 ou 1000 variaveis respectivamente

	{brute, limited, both} -> Determina qual das duas versões será rodado ou se irá rodar ambas

	{limite inferior} -> Determina o menor valor das variaveis

	{limite superior} -> Determina o maior valor das variaveis
*/
func main() {
	amount_items, _ := strconv.ParseInt(os.Args[1], 0, 0)

	// Determina quantas variaveis será usado
	switch amount_items {
	case 1:
		amount_items = 10
	case 2:
		amount_items = 100
	case 3:
		amount_items = 1000
	default:
		os.Exit(-1)
	}

	limitBot, _ := strconv.ParseInt(os.Args[3], 0, 0)

	limitTop, _ := strconv.ParseInt(os.Args[4], 0, 0)

	// Constroi um slice de array com itens já ordenados
	items := utils.GetItemsWeightNValuesRandom(int(amount_items), int(limitBot), int(limitTop))

	// Retorna o valor da capacidade da mochila
	capacity := utils.GetCapacityKnapsack(items)

	// Caso queria um teste manual preencher as variaveis abaixo
	//items := [][]int{{188, 1693}, {201, 1769}, {195, 1640}, {217, 1743}, {236, 1829}, {212, 1631}, {190, 1443}, {247, 1872}, {214, 1600}, {197, 1465}, {252, 1872}, {219, 1618}, {191, 1329}, {212, 1471}, {202, 1393}, {194, 1274}, {257, 1674}, {226, 1472}, {219, 1412}, {212, 1355}, {319, 1862}, {291, 1696}, {304, 1768}, {194, 1123}, {306, 1770}, {268, 1488}, {327, 1778}, {332, 1805}, {279, 1465}, {307, 1608}, {293, 1533}, {272, 1414}, {230, 1190}, {234, 1209}, {322, 1652}, {324, 1662}, {252, 1266}, {263, 1295}, {381, 1850}, {275, 1333}, {351, 1691}, {343, 1638}, {347, 1636}, {298, 1392}, {290, 1349}, {373, 1732}, {338, 1569}, {250, 1154}, {355, 1633}, {341, 1556}, {411, 1856}, {385, 1737}, {258, 1155}, {307, 1373}, {323, 1443}, {197, 870}, {394, 1740}, {357, 1571}, {391, 1698}, {313, 1353}, {348, 1473}, {266, 1109}, {395, 1635}, {275, 1129}, {316, 1296}, {424, 1730}, {262, 1066}, {364, 1481}, {368, 1495}, {229, 906}, {411, 1602}, {300, 1160}, {258, 989}, {453, 1731}, {489, 1855}, {341, 1293}, {305, 1152}, {233, 863}, {417, 1544}, {443, 1615}, {487, 1744}, {479, 1707}, {447, 1589}, {243, 859}, {452, 1594}, {455, 1591}, {281, 978}, {511, 1761}, {241, 817}, {486, 1647}, {318, 1071}, {369, 1233}, {386, 1281}, {540, 1792}, {553, 1828}, {235, 776}, {550, 1814}, {400, 1297}, {503, 1609}, {419, 1335}, {215, 682}, {411, 1301}, {241, 761}, {389, 1217}, {364, 1133}, {311, 966}, {348, 1059}, {291, 881}, {619, 1865}, {221, 659}, {317, 939}, {490, 1442}, {544, 1591}, {570, 1666}, {397, 1159}, {456, 1331}, {450, 1311}, {601, 1735}, {516, 1488}, {540, 1554}, {552, 1587}, {622, 1785}, {434, 1243}, {655, 1865}, {195, 555}, {399, 1130}, {621, 1749}, {570, 1603}, {620, 1741}, {367, 1027}, {410, 1145}, {657, 1815}, {471, 1291}, {561, 1527}, {635, 1726}, {479, 1301}, {595, 1600}, {529, 1414}, {483, 1283}, {464, 1225}, {266, 700}, {515, 1337}, {220, 567}, {582, 1497}, {205, 522}, {380, 965}, {644, 1616}, {559, 1400}, {678, 1693}, {750, 1872}, {584, 1452}, {698, 1729}, {615, 1508}, {655, 1592}, {749, 1815}, {545, 1310}, {726, 1719}, {671, 1586}, {363, 858}, {674, 1580}, {217, 507}, {538, 1245}, {672, 1554}, {751, 1735}, {303, 700}, {498, 1149}, {657, 1514}, {537, 1236}, {481, 1099}, {406, 927}, {769, 1750}, {636, 1441}, {436, 982}, {578, 1301}, {724, 1628}, {406, 912}, {806, 1810}, {523, 1174}, {357, 796}, {543, 1210}, {605, 1342}, {565, 1241}, {755, 1657}, {688, 1485}, {748, 1614}, {550, 1176}, {756, 1600}, {697, 1465}, {236, 496}, {761, 1582}, {472, 967}, {763, 1561}, {562, 1147}, {836, 1706}, {782, 1583}, {600, 1214}, {848, 1713}, {591, 1177}, {577, 1149}, {841, 1666}, {700, 1384}, {752, 1486}, {577, 1140}, {659, 1300}, {189, 372}, {866, 1701}, {658, 1291}, {744, 1457}, {651, 1270}, {675, 1311}, {713, 1382}, {869, 1672}, {756, 1451}, {290, 555}, {505, 964}, {413, 786}, {626, 1187}, {628, 1186}, {635, 1195}, {585, 1100}, {720, 1353}, {554, 1036}, {731, 1354}, {734, 1357}, {1010, 1851}, {485, 885}, {399, 725}, {337, 611}, {936, 1697}, {352, 638}, {487, 878}, {543, 978}, {744, 1335}, {913, 1632}, {1019, 1820}, {994, 1766}, {677, 1199}, {861, 1516}, {639, 1125}, {261, 459}, {886, 1550}, {669, 1167}, {1011, 1761}, {951, 1654}, {1008, 1749}, {943, 1636}, {989, 1706}, {946, 1628}, {950, 1628}, {952, 1622}, {796, 1354}, {747, 1265}, {743, 1253}, {808, 1361}, {697, 1174}, {1083, 1799}, {808, 1340}, {1107, 1834}, {760, 1253}, {509, 837}, {981, 1611}, {1102, 1806}, {516, 843}, {948, 1547}, {349, 569}, {425, 692}, {897, 1455}, {438, 707}, {409, 659}, {1023, 1644}, {1117, 1795}, {401, 639}, {917, 1461}, {464, 738}, {393, 624}, {1137, 1779}, {1188, 1851}, {712, 1108}, {973, 1508}, {1209, 1865}, {766, 1181}, {1054, 1625}, {1071, 1648}, {1054, 1616}, {947, 1451}, {566, 867}, {797, 1215}, {1046, 1593}, {1077, 1640}, {548, 834}, {401, 607}, {331, 499}, {798, 1194}, {1082, 1617}, {675, 1007}, {1015, 1502}, {787, 1162}, {935, 1376}, {1093, 1607}, {1033, 1501}, {550, 797}, {857, 1239}, {471, 679}, {1096, 1580}, {777, 1117}, {1079, 1550}, {1173, 1677}, {1206, 1721}, {661, 943}, {1104, 1569}, {1153, 1637}, {735, 1037}, {1284, 1809}, {959, 1351}, {566, 796}, {1275, 1788}, {660, 925}, {816, 1143}, {1056, 1477}, {1261, 1761}, {913, 1272}, {519, 722}, {1004, 1395}, {1279, 1776}, {861, 1195}, {743, 1027}, {576, 794}, {866, 1193}, {1169, 1607}, {1211, 1657}, {616, 840}, {1184, 1613}, {1002, 1365}, {1076, 1464}, {1050, 1426}, {685, 930}, {1180, 1601}, {954, 1294}, {599, 810}, {892, 1201}, {934, 1254}, {1366, 1828}, {1257, 1682}, {492, 657}, {964, 1287}, {751, 1002}, {993, 1322}, {487, 645}, {1271, 1683}, {1269, 1679}, {791, 1046}, {348, 460}, {488, 645}, {1082, 1423}, {494, 649}, {1211, 1588}, {832, 1085}, {726, 946}, {629, 816}, {720, 934}, {829, 1074}, {1381, 1788}, {757, 980}, {361, 466}, {1050, 1355}, {925, 1190}, {1455, 1867}, {1025, 1315}, {889, 1133}, {1398, 1777}, {459, 583}, {595, 754}, {1440, 1822}, {770, 973}, {1087, 1373}, {1274, 1608}, {1325, 1661}, {1413, 1769}, {815, 1020}, {1455, 1805}, {1078, 1335}, {1175, 1453}, {218, 269}, {1320, 1628}, {1120, 1379}, {1200, 1472}, {1018, 1244}, {1405, 1711}, {1095, 1331}, {409, 497}, {931, 1131}, {1196, 1452}, {1335, 1616}, {1094, 1319}, {1107, 1333}, {1382, 1663}, {1456, 1750}, {573, 687}, {1318, 1580}, {644, 772}, {1351, 1618}, {1040, 1245}, {781, 930}, {657, 781}, {1019, 1211}, {871, 1035}, {655, 778}, {1401, 1656}, {1061, 1253}, {772, 911}, {1500, 1769}, {1337, 1574}, {1329, 1562}, {732, 858}, {1454, 1691}, {327, 380}, {676, 784}, {587, 679}, {1565, 1808}, {1522, 1750}, {798, 917}, {322, 370}, {197, 226}, {1326, 1521}, {1256, 1438}, {1077, 1231}, {1582, 1804}, {1181, 1346}, {674, 766}, {561, 637}, {1094, 1241}, {679, 769}, {1552, 1756}, {586, 661}, {1548, 1734}, {1216, 1362}, {886, 992}, {1233, 1379}, {482, 539}, {1565, 1749}, {1262, 1409}, {1263, 1405}, {1387, 1541}, {1676, 1858}, {1670, 1849}, {943, 1043}, {1650, 1822}, {1553, 1706}, {573, 629}, {749, 820}, {625, 684}, {1076, 1175}, {1250, 1364}, {1535, 1666}, {1277, 1385}, {897, 972}, {1268, 1370}, {1492, 1610}, {1133, 1222}, {211, 227}, {1311, 1409}, {1366, 1468}, {577, 620}, {1542, 1655}, {1058, 1135}, {1700, 1822}, {851, 910}, {949, 1010}, {1757, 1868}, {1175, 1242}, {816, 861}, {1314, 1385}, {735, 774}, {1108, 1164}, {470, 493}, {1514, 1582}, {1778, 1846}, {1163, 1207}, {1441, 1494}, {1243, 1288}, {1720, 1773}, {659, 679}, {1262, 1300}, {1505, 1550}, {1478, 1517}, {1411, 1445}, {862, 881}, {1625, 1657}, {1593, 1624}, {1310, 1331}, {1420, 1440}, {1214, 1230}, {1491, 1509}, {1605, 1624}, {364, 368}, {200, 202}, {991, 999}, {1003, 1011}, {1205, 1211}, {1650, 1655}, {1344, 1343}, {1170, 1169}, {818, 817}, {1477, 1475}, {1678, 1674}, {1640, 1636}, {1659, 1654}, {257, 256}, {1540, 1532}, {1335, 1328}, {555, 551}, {1005, 996}, {1505, 1480}, {683, 671}, {462, 452}, {963, 939}, {449, 436}, {1381, 1335}, {1086, 1048}, {1518, 1460}, {1408, 1354}, {1399, 1344}, {1412, 1355}, {1040, 997}, {1829, 1752}, {1380, 1321}, {1157, 1106}, {1593, 1519}, {1109, 1055}, {298, 283}, {1715, 1627}, {307, 291}, {769, 726}, {1446, 1365}, {1738, 1640}, {1589, 1499}, {1040, 980}, {1683, 1585}, {1242, 1169}, {743, 699}, {1136, 1068}, {881, 825}, {1208, 1127}, {1808, 1685}, {426, 397}, {626, 583}, {480, 445}, {1665, 1543}, {1172, 1082}, {1495, 1378}, {1355, 1248}, {1608, 1480}, {1809, 1662}, {1366, 1254}, {1412, 1295}, {1784, 1625}, {930, 847}, {856, 776}, {1499, 1356}, {1347, 1217}, {1656, 1486}, {724, 646}, {1162, 1035}, {1222, 1087}, {927, 824}, {1038, 921}, {1698, 1506}, {1017, 900}, {1605, 1418}, {1095, 966}, {1392, 1228}, {702, 618}, {1326, 1166}, {1580, 1387}, {919, 805}, {612, 536}, {1787, 1562}, {420, 367}, {1867, 1625}, {1260, 1093}, {1699, 1473}, {388, 335}, {1871, 1613}, {1457, 1250}, {1692, 1446}, {735, 628}, {1611, 1374}, {806, 686}, {354, 301}, {780, 659}, {1365, 1152}, {1407, 1186}, {1652, 1391}, {512, 431}, {1572, 1321}, {1707, 1432}, {1581, 1326}, {952, 797}, {1750, 1450}, {1640, 1352}, {1282, 1056}, {1852, 1519}, {655, 536}, {1326, 1085}, {624, 510}, {1731, 1412}, {1603, 1301}, {1144, 926}, {772, 622}, {1609, 1289}, {1370, 1097}, {1399, 1119}, {1338, 1069}, {769, 608}, {773, 610}, {1383, 1091}, {1444, 1135}, {1430, 1123}, {919, 720}, {1403, 1097}, {1771, 1376}, {528, 410}, {1141, 886}, {940, 728}, {1698, 1314}, {1392, 1077}, {1515, 1170}, {1788, 1380}, {1464, 1129}, {1517, 1169}, {1434, 1105}, {1229, 947}, {897, 688}, {1239, 949}, {1081, 826}, {820, 626}, {1233, 939}, {1643, 1250}, {1249, 948}, {1377, 1036}, {1287, 966}, {443, 332}, {1019, 762}, {1248, 923}, {1342, 992}, {1075, 794}, {600, 443}, {1666, 1224}, {1854, 1361}, {703, 515}, {1253, 916}, {1054, 770}, {1261, 919}, {1868, 1358}, {1855, 1345}, {1373, 987}, {1695, 1215}, {1779, 1275}, {1846, 1322}, {1662, 1184}, {1712, 1218}, {1155, 821}, {1817, 1289}, {1634, 1152}, {1721, 1213}, {1188, 833}, {505, 351}, {512, 354}, {520, 359}, {1854, 1277}, {1512, 1039}, {1480, 1017}, {1240, 846}, {1159, 789}, {912, 620}, {906, 612}, {1199, 808}, {1401, 944}, {1399, 941}, {818, 550}, {871, 585}, {1165, 781}, {877, 585}, {1192, 792}, {1196, 791}, {693, 457}, {1346, 885}, {1085, 713}, {1455, 953}, {811, 530}, {1855, 1209}, {910, 593}, {1085, 705}, {1410, 915}, {1704, 1100}, {723, 466}, {1385, 891}, {1650, 1060}, {1542, 989}, {1427, 915}, {1766, 1124}, {1243, 786}, {873, 552}, {1686, 1062}, {1620, 1020}, {720, 453}, {1201, 753}, {1755, 1100}, {1458, 912}, {972, 603}, {1104, 684}, {815, 500}, {1393, 854}, {1419, 866}, {1606, 978}, {1106, 673}, {1597, 970}, {1595, 968}, {1644, 997}, {1039, 630}, {1621, 980}, {1226, 739}, {1594, 954}, {1336, 799}, {1778, 1063}, {1391, 828}, {1541, 917}, {644, 382}, {1819, 1076}, {1864, 1098}, {1401, 820}, {1532, 893}, {822, 479}, {786, 457}, {1539, 894}, {1494, 867}, {445, 258}, {1507, 866}, {1481, 848}, {1746, 998}, {1158, 660}, {948, 539}, {368, 209}, {1589, 902}, {1521, 861}, {1813, 1023}, {1781, 1002}, {1132, 636}, {437, 245}, {1171, 654}, {1449, 808}, {1833, 1021}, {549, 305}, {1393, 771}, {1557, 861}, {1046, 573}, {637, 347}, {1803, 974}, {825, 445}, {1079, 580}, {1808, 968}, {1394, 744}, {1308, 695}, {1098, 583}, {1285, 682}, {899, 477}, {1726, 913}, {602, 318}, {1274, 671}, {1527, 804}, {1070, 563}, {1120, 588}, {1717, 900}, {1391, 724}, {1201, 624}, {1749, 908}, {1715, 889}, {768, 397}, {1502, 774}, {365, 188}, {813, 417}, {817, 418}, {1732, 886}, {906, 463}, {1062, 542}, {1745, 884}, {1465, 741}, {669, 336}, {1112, 557}, {821, 410}, {1102, 550}, {1279, 638}, {1178, 587}, {1725, 859}, {1832, 912}, {713, 353}, {1200, 593}, {1739, 859}, {1814, 895}, {1171, 575}, {1109, 544}, {625, 305}, {1321, 640}, {1802, 873}, {1406, 681}, {1790, 863}, {1513, 729}, {1038, 493}, {1185, 562}, {1723, 815}, {969, 456}, {725, 341}, {888, 416}, {1840, 856}, {1810, 842}, {1350, 626}, {1223, 564}, {1462, 672}, {1624, 738}, {1785, 806}, {486, 219}, {1707, 766}, {1289, 573}, {1625, 720}, {1651, 726}, {1744, 766}, {1724, 755}, {446, 195}, {1643, 716}, {801, 349}, {1682, 728}, {1523, 654}, {1229, 527}, {1808, 772}, {958, 407}, {1609, 682}, {603, 254}, {1317, 554}, {1597, 671}, {1503, 631}, {1397, 584}, {1128, 466}, {1410, 582}, {1423, 582}, {1266, 514}, {1617, 656}, {745, 302}, {1776, 716}, {1843, 739}, {960, 383}, {1400, 558}, {1814, 721}, {677, 269}, {1032, 410}, {1569, 622}, {981, 386}, {910, 358}, {1135, 445}, {1812, 709}, {605, 236}, {1600, 623}, {1274, 494}, {1789, 690}, {1863, 715}, {1022, 391}, {1605, 614}, {1859, 707}, {1400, 526}, {1300, 485}, {1417, 526}, {1669, 618}, {1259, 464}, {1190, 438}, {1845, 671}, {1656, 597}, {614, 221}, {1142, 406}, {635, 222}, {1230, 428}, {765, 266}, {1588, 549}, {1732, 598}, {1795, 619}, {1500, 507}, {1346, 453}, {1559, 523}, {1564, 518}, {970, 318}, {1429, 466}, {1672, 535}, {1365, 434}, {1867, 590}, {1380, 436}, {1036, 326}, {849, 266}, {1768, 550}, {1412, 439}, {1850, 571}, {1563, 479}, {624, 191}, {1254, 380}, {839, 250}, {1804, 537}, {1629, 483}, {1388, 410}, {1094, 323}, {1391, 409}, {1148, 336}, {1173, 343}, {1327, 386}, {1567, 444}, {870, 246}, {1000, 282}, {1660, 458}, {1027, 283}, {1405, 385}, {1753, 476}, {1004, 271}, {1101, 295}, {1534, 411}, {1412, 378}, {999, 267}, {1480, 394}, {1716, 446}, {1212, 311}, {1559, 395}, {1622, 410}, {1112, 281}, {1801, 449}, {1731, 430}, {1227, 304}, {798, 196}, {1382, 335}, {1851, 446}, {1694, 408}, {1342, 323}, {964, 231}, {1621, 387}, {1230, 292}, {998, 236}, {1133, 267}, {1856, 436}, {827, 194}, {1765, 413}, {1801, 421}, {1207, 282}, {945, 220}, {925, 215}, {1452, 337}, {1766, 408}, {1519, 350}, {1199, 276}, {1850, 422}, {1215, 277}, {1696, 385}, {1442, 327}, {1802, 407}, {1742, 390}, {1248, 275}, {1521, 334}, {1732, 380}, {1118, 244}, {1335, 285}, {967, 206}, {1235, 259}, {1836, 383}, {1348, 279}, {1392, 283}, {1269, 257}, {1136, 226}, {1084, 215}, {1207, 239}, {1396, 267}, {1815, 347}, {1607, 305}, {1399, 264}, {1300, 243}, {1575, 285}, {1448, 260}, {1711, 297}, {1670, 282}, {1872, 313}, {1547, 254}, {1332, 217}, {1345, 212}, {1318, 204}, {1316, 203}, {1729, 265}, {1359, 208}, {1660, 248}, {1560, 232}, {1479, 216}, {1867, 272}, {1800, 248}, {1496, 206}, {1782, 245}, {1729, 224}, {1807, 226}, {1525, 188}, {1594, 192}}
	//capacity := 1875

	// Usado somente caso queira execultar um dos testes e não ambos
	switch os.Args[2] {
	case "brute":
		bruteforce.Brute_force(items, capacity)

	case "limited":
		limited.Limited(items, capacity)

	case "both":
		limited.Limited(items, capacity)
		bruteforce.Brute_force(items, capacity)

	default:
		fmt.Println("Parametro Inválido")
		os.Exit(-1)

	}

}
